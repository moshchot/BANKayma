<?xml version="1.0" encoding="utf-8" ?>
<!-- Copyright 2024 Hunki Enterprises BV
     License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl). -->
<odoo>
    <record id="view_l10n_il_hashavshevet_movin_form" model="ir.ui.view">
        <field name="model">l10n.il.hashavshevet.config.movin</field>
        <field name="inherit_id" ref="view_l10n_il_hashavshevet_config_form" />
        <field name="mode">primary</field>
        <field name="arch" type="xml">
            <group name="fields" position="inside">
                <div>
                    <label for="expr_code" />
                </div>
                <div>
                    <field name="expr_code" widget="ace" options="{'mode': 'python'}" />
                    <div
                        attrs="{'invisible': [('expr_code_result', '=', False)]}"
                        role="alert"
                        class="alert alert-danger"
                    >
                        <field name="expr_code_result" />
                    </div>
                    <div>
                        Examples:
                        <dl>
                            <dt>
                                <code>'4'</code>
                            </dt>
                            <dd>
                                traffic type code of lines generated by this
                                    configuration is 4
                            </dd>
                        </dl>
                    </div>
                </div>
                <div>
                    <label for="expr_ref1" />
                </div>
                <div>
                    <field name="expr_ref1" widget="ace" options="{'mode': 'python'}" />
                    <div
                        attrs="{'invisible': [('expr_ref1_result', '=', False)]}"
                        role="alert"
                        class="alert alert-danger"
                    >
                        <field name="expr_ref1_result" />
                    </div>
                    <div>
                        Examples:
                        <dl>
                            <dt>
                                <code>
                                    (line.move_id.partner_id.name
                                        or '') + ' ' + (line.move_id.partner_id.vat
                                    or '')
                                </code>
                            </dt>
                            <dd>
                                Show the partner's name and vat (while taking care
                                    not to have an error for moves without partner or
                                    partners without vat)
                            </dd>
                        </dl>
                    </div>
                </div>
                <div>
                    <label for="expr_ref2" />
                </div>
                <div>
                    <field name="expr_ref2" widget="ace" options="{'mode': 'python'}" />
                    <div
                        attrs="{'invisible': [('expr_ref2_result', '=', False)]}"
                        role="alert"
                        class="alert alert-danger"
                    >
                        <field name="expr_ref2_result" />
                    </div>
                </div>
                <div>
                    <label for="expr_date_ref" />
                </div>
                <div>
                    <field
                        name="expr_date_ref"
                        widget="ace"
                        options="{'mode': 'python'}"
                    />
                    <div
                        attrs="{'invisible': [('expr_date_ref_result', '=', False)]}"
                        role="alert"
                        class="alert alert-danger"
                    >
                        <field name="expr_date_ref_result" />
                    </div>
                    <div>
                        Examples:
                        <dl>
                            <dt>
                                <code>line.move_id.date.strftime('%d%m%y')</code>
                            </dt>
                            <dd>Move date formatted as daymonthyear</dd>
                        </dl>
                    </div>
                </div>
                <div>
                    <label for="expr_date_value" />
                </div>
                <div>
                    <field
                        name="expr_date_value"
                        widget="ace"
                        options="{'mode': 'python'}"
                    />
                    <div
                        attrs="{'invisible': [('expr_date_value_result', '=', False)]}"
                        role="alert"
                        class="alert alert-danger"
                    >
                        <field name="expr_date_value_result" />
                    </div>
                </div>
                <div>
                    <label for="expr_currency" />
                </div>
                <div>
                    <field
                        name="expr_currency"
                        widget="ace"
                        options="{'mode': 'python'}"
                    />
                    <div
                        attrs="{'invisible': [('expr_currency_result', '=', False)]}"
                        role="alert"
                        class="alert alert-danger"
                    >
                        <field name="expr_currency_result" />
                    </div>
                </div>
                <div>
                    <label for="expr_details" />
                </div>
                <div>
                    <field
                        name="expr_details"
                        widget="ace"
                        options="{'mode': 'python'}"
                    />
                    <div
                        attrs="{'invisible': [('expr_details_result', '=', False)]}"
                        role="alert"
                        class="alert alert-danger"
                    >
                        <field name="expr_details_result" />
                    </div>
                </div>
                <div>
                    <label for="expr_left_account1" />
                </div>
                <div>
                    <field
                        name="expr_left_account1"
                        widget="ace"
                        options="{'mode': 'python'}"
                    />
                    <div
                        attrs="{'invisible': [('expr_left_account1_result', '=', False)]}"
                        role="alert"
                        class="alert alert-danger"
                    >
                        <field name="expr_left_account1_result" />
                    </div>
                    <div>
                        Examples:
                        <dl>
                            <dt>
                                <code>line.account_id.code</code>
                            </dt>
                            <dd>Account code</dd>
                        </dl>
                    </div>
                </div>
                <div>
                    <label for="expr_left_account2" />
                </div>
                <div>
                    <field
                        name="expr_left_account2"
                        widget="ace"
                        options="{'mode': 'python'}"
                    />
                    <div
                        attrs="{'invisible': [('expr_left_account2_result', '=', False)]}"
                        role="alert"
                        class="alert alert-danger"
                    >
                        <field name="expr_left_account2_result" />
                    </div>
                </div>
                <div>
                    <label for="expr_right_account1" />
                </div>
                <div>
                    <field
                        name="expr_right_account1"
                        widget="ace"
                        options="{'mode': 'python'}"
                    />
                    <div
                        attrs="{'invisible': [('expr_right_account1_result', '=', False)]}"
                        role="alert"
                        class="alert alert-danger"
                    >
                        <field name="expr_right_account1_result" />
                    </div>
                </div>
                <div>
                    <label for="expr_right_account2" />
                </div>
                <div>
                    <field
                        name="expr_right_account2"
                        widget="ace"
                        options="{'mode': 'python'}"
                    />
                    <div
                        attrs="{'invisible': [('expr_right_account2_result', '=', False)]}"
                        role="alert"
                        class="alert alert-danger"
                    >
                        <field name="expr_right_account2_result" />
                    </div>
                </div>
                <div>
                    <label for="expr_left_account1_amount" />
                </div>
                <div>
                    <field
                        name="expr_left_account1_amount"
                        widget="ace"
                        options="{'mode': 'python'}"
                    />
                    <div
                        attrs="{'invisible': [('expr_left_account1_amount_result', '=', False)]}"
                        role="alert"
                        class="alert alert-danger"
                    >
                        <field name="expr_left_account1_amount_result" />
                    </div>
                    <div>
                        Examples:
                        <dl>
                            <dt>
                                <code>
                                    sum(line.debit for line in move.line_ids if
                                        line.account_id.account_type == 'expense')
                                </code>
                            </dt>
                            <dd>
                                Sum up all debits of lines with accounts of
                                    type 'Expenses'. Consult the value column of
                                <a
                                    href="/web#id=%(account.field_account_account__account_type)s&amp;model=ir.model.fields&amp;view_type=form"
                                    target="_blank"
                                >
                                    the account type selection
                                </a>
                                for possible values of the
                                <b>account_type</b>
                                field.
                            </dd>
                        </dl>
                    </div>
                </div>
                <div>
                    <label for="expr_left_account2_amount" />
                </div>
                <div>
                    <field
                        name="expr_left_account2_amount"
                        widget="ace"
                        options="{'mode': 'python'}"
                    />
                    <div
                        attrs="{'invisible': [('expr_left_account2_amount_result', '=', False)]}"
                        role="alert"
                        class="alert alert-danger"
                    >
                        <field name="expr_left_account2_amount_result" />
                    </div>
                </div>
                <div>
                    <label for="expr_right_account1_amount" />
                </div>
                <div>
                    <field
                        name="expr_right_account1_amount"
                        widget="ace"
                        options="{'mode': 'python'}"
                    />
                    <div
                        attrs="{'invisible': [('expr_right_account1_amount_result', '=', False)]}"
                        role="alert"
                        class="alert alert-danger"
                    >
                        <field name="expr_right_account1_amount_result" />
                    </div>
                </div>
                <div>
                    <label for="expr_right_account2_amount" />
                </div>
                <div>
                    <field
                        name="expr_right_account2_amount"
                        widget="ace"
                        options="{'mode': 'python'}"
                    />
                    <div
                        attrs="{'invisible': [('expr_right_account2_amount_result', '=', False)]}"
                        role="alert"
                        class="alert alert-danger"
                    >
                        <field name="expr_right_account2_amount_result" />
                    </div>
                </div>
            </group>
        </field>
    </record>
    <record id="view_l10n_il_hashavshevet_movin_tree" model="ir.ui.view">
        <field name="model">l10n.il.hashavshevet.config.movin</field>
        <field name="inherit_id" ref="view_l10n_il_hashavshevet_config_tree" />
        <field name="mode">primary</field>
        <field name="arch" type="xml">
            <field name="expr_condition" position="after">
                <field name="expr_code" />
                <field name="expr_date_ref" />
                <field name="expr_left_account1" />
                <field name="expr_left_account1_amount" />
            </field>
        </field>
    </record>
</odoo>
